<!DOCTYPE html>
<!-- saved from url=(0059)https://java.codeup.com/examples/javascript/ajax-store.html -->
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Online Store</title>



<style>
    .posiInventory {
        color: green;
    }

    .itemTitle {
        font-family: sans-serif;
    }
</style>




    <script data-dapp-detection="">!function () {
        let e = !1;

        function n() {
            if (!e) {
                const n = document.createElement("meta");
                n.name = "dapp-detected", document.head.appendChild(n), e = !0
            }
        }

        if (window.hasOwnProperty("ethereum")) {
            if (window.__disableDappDetectionInsertion = !0, void 0 === window.ethereum) return;
            n()
        } else {
            var t = window.ethereum;
            Object.defineProperty(window, "ethereum", {
                configurable: !0, enumerable: !1, set: function (e) {
                    window.__disableDappDetectionInsertion || n(), t = e
                }, get: function () {
                    if (!window.__disableDappDetectionInsertion) {
                        const e = arguments.callee;
                        e && e.caller && e.caller.toString && -1 !== e.caller.toString().indexOf("getOwnPropertyNames") || n()
                    }
                    return t
                }
            })
        }
    }();</script>
</head>
<body cz-shortcut-listen="true">
<h1>My Tool Store</h1>
<table id="products">
    <thead>
    <tr>
        <th>Title</th>
        <th>Quantity</th>
        <th>Price</th>
        <th>Categories</th>
    </tr>
    </thead>
    <tbody id="insertProducts"></tbody>
</table>
<button id="refresh">Refresh our inventory</button>
<script src="./ajax-store_files/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44="
        crossorigin="anonymous"></script>
<script>
    (function () {
        "use strict";
        // TODO: Create an AJAX GET request for the file under data/inventory.json
        // $.ajax(
        //     {
        //         url: "data/inventory.json",
        //         type: "GET",
        //     }).done(function (data) {
        //     console.log(data);
        // });
        // $.ajax("data/inventory.json").done(function (data){})
        // $.get("data/inventory.json", {
        // }).done(function(data, status) {
        //     console.log("Status: " + status + ", Data: " + data);
        // });

        // console the object //
        // $.ajax("data/inventory.json").done(function (data){
        //     console.log(data);
        // });

        // $.ajax("data/inventory.json").done(function (data) {
        //     let HTML = "";
        //     data.forEach(function (tool) {
        //         console.log(tool);
        //         // create table for data //
        //         HTML = "<tr>"
        //             + "<td>" + tool.title + "</td>"
        //             + "<td class='posiInventory'>" + tool.quantity + "</td>" // show number of each tool
        //             + "<td>" + tool.price + "</td>"
        //             + "<td>" + tool.categories + "</td>"
        //             + "</tr>";
        //
        //         $("#insertProducts").append(HTML);
        //     });
        // });

        // Refresh table (question 5) //
        $("#refresh").click(function() {
            // prevent repeating products
            $("#insertProducts").empty();
            // adding products function
            $.ajax("data/inventory.json").done(function (data) {
                let HTML = "";
                data.forEach(function (tool) {
                    console.log(tool);
                    // create table for data //
                    HTML = "<tr>"
                        + "<td class='itemTitle'>" + tool.title + "</td>"
                        + "<td class='posiInventory'>" + tool.quantity + "</td>" // show number of each tool
                        + "<td>" + tool.price + "</td>"
                        + "<td>" + tool.categories + "</td>"
                        + "</tr>";

                    $("#insertProducts").append(HTML);
                });
            });
        });

        // function fetch() {
        //     $.get("data/inventory.json").done(function (data) {
        //         console.log(data);
        //         data.forEach(function (tool) {
        //             console.log(tool);
        //         });
        //     });
        // }

        // $("#refresh-button").on("click", fetch); fetch
        // TODO: Take the data from inventory.json and append it to the products table
        //       HINT: Your data should come back as a JSON object; use console.log() to inspect
        //             its contents and fields
        //       HINT: You will want to target #insertProducts for your new HTML elements
    })();
</script>
</body>
</html>